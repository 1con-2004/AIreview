/* eslint-disable vue/multi-word-component-names */
<template>
  <div class="home">
    <nav-bar></nav-bar>
    <div class="hero-section">
      <div class="hero-content">
        <div class="hero-title">
          <span class="wave-text">é‡æ–°</span>
          <span class="wave-text">å®šä¹‰</span>
          <span class="wave-text">ä½ çš„</span>
          <span class="wave-text">ç¼–ç¨‹</span>
          <span class="wave-text">ä¹‹æ—…</span>

        </div>
        <p class="hero-subtitle">QuizPlaneté—®çŸ¥æ˜ŸçƒğŸŒï¼šé‡æ–°å®šä¹‰<strong style="font-size: 1.2em; color: orange;">äººå·¥æ™ºèƒ½æ—¶ä»£</strong>ç¼–ç¨‹</p>
        <div class="hero-buttons">
          <router-link to="/problems" class="hero-button primary">å¼€å§‹åˆ·é¢˜</router-link>
          <router-link to="/personal-center" class="hero-button secondary">æ¢ç´¢åŠŸèƒ½</router-link>
        </div>
      </div>
      <div class="code-animation">
        <div class="code-window">
          <div class="code-header">
            <div class="window-controls">
              <span class="control red"></span>
              <span class="control yellow"></span>
              <span class="control green"></span>
            </div>
            <div class="window-title">main.cpp</div>
          </div>
          <div class="code-content">
            <div v-for="(line, index) in displayedLines" :key="index" class="code-line" v-html="line"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- æ ¸å¿ƒåŠŸèƒ½å±•ç¤ºéƒ¨åˆ† - é‡æ–°è®¾è®¡çš„è§†é¢‘å±•ç¤ºåŒºåŸŸ -->
    <div class="feature-section">
      <h2 class="section-title">
        <span class="fliping-text">AI æ·±åº¦æ„ŸçŸ¥ , æ‡‚ä½ è¿«åˆ‡æ‰€éœ€</span>
      </h2>

      <!-- AIæ™ºèƒ½è¯„æµ‹ -->
      <div class="feature-row">
        <div class="feature-text">
          <h3 class="drop-text">æ»¡è¡€DeepSeek R1æ¨¡å‹ , åŠ©åŠ›ä»£ç åˆ†æ</h3>
          <p class="feature-description">
          æ­è½½<strong style="font-size: 1.2em; color: orange;">æ»¡è¡€DeepSeek R1æ¨¡å‹</strong> , ä»¥çªç ´æ€§çš„æ·±åº¦æ€è€ƒåŠŸèƒ½æ„å»ºä»£ç è§£æçŸ©é˜µï¼Œæ·±åº¦è§£æ„æ¯ä¸€è¡Œä»£ç çš„è¯­æ³•é€»è¾‘ <br>
          <strong style="font-size: 1.2em; color: orange;">æ¯«ç§’çº§</strong>æ™ºèƒ½æ‰«æ , ç²¾å‡†å®šä½æ½œåœ¨è¯­æ³•éšæ‚£ã€å¤æ‚é€»è¾‘æ–­å±‚ <br>
          æ— è®ºæ˜¯ç»†å¾®çš„è¯­æ³•ç‘•ç–µã€å¤æ‚çš„é€»è¾‘æ¼æ´ï¼Œè¿˜æ˜¯å…³é”®çš„æ€§èƒ½ç“¶é¢ˆï¼Œ<strong style="font-size: 1.2em; color: orange;">DeepSeek R1 æ¨¡å‹</strong>éƒ½èƒ½æ•é”æ´å¯Ÿ
          </p>
          <div class="feature-tags">
            <span class="tag">æ»¡è¡€æ¨¡å‹</span>
            <span class="tag">å¤šæ¨¡æ€å¤„ç†</span>
            <span class="tag">æ¯«ç§’çº§å“åº”</span>
          </div>
        </div>
        <div class="feature-video-container">
          <video src="/vedios/ai_judge.mp4" class="feature-video" autoplay muted loop playsinline></video>
        </div>
      </div>

      <!-- å­¦ä¹ è®¡åˆ’åŠŸèƒ½ -->
      <div class="feature-row reverse">
        <div class="feature-text">
          <h3 class="drop-text">ä¸ªæ€§åŒ–å­¦ä¹ è®¡åˆ’</h3>
          <p class="feature-description">
            ä¾æ‰˜<strong style="font-size: 1.2em; color: orange;">æ»¡è¡€ DeepSeek R1 æ¨¡å‹</strong>ï¼ŒåŸºäºæ‚¨çš„å­¦ä¹ å†å²æ•°æ®, è¿ç”¨å…ˆè¿›çš„<strong style="font-size: 1.2em; color: orange;">æœºå™¨å­¦ä¹ ç®—æ³•</strong>ï¼Œæ™ºèƒ½ç”Ÿæˆå®šåˆ¶åŒ–å­¦ä¹ è®¡åˆ’ <br>
            ç³»ç»Ÿé€šè¿‡<strong style="font-size: 1.2em; color: orange;">å®æ—¶åˆ†æä¸åŠ¨æ€è¯„ä¼°</strong>ï¼Œä¸ºæ‚¨ç²¾å‡†æ¨é€å¥‘åˆå½“å‰ç¼–ç¨‹æ°´å¹³çš„é¢˜ç›®é›†ä¸çŸ¥è¯†ç‚¹çŸ©é˜µ <br>
            å€ŸåŠ©<strong style="font-size: 1.2em; color: orange;">è‡ªé€‚åº”å­¦ä¹ æœºåˆ¶</strong>ï¼ŒæŒç»­å¾®è°ƒå­¦ä¹ è®¡åˆ’ï¼Œè®©æ‚¨æ—¶åˆ»å¤„äºé«˜æ•ˆå­¦ä¹ çš„æœ€ä¼˜åŒºé—´ï¼Œåœ¨ä»£ç ä¸–ç•Œä¸­ç¨³å¥è¿›é˜¶
          </p>
          <div class="feature-tags">
            <span class="tag">å…ˆè¿›æœºå™¨å­¦ä¹ ç®—æ³•</span>
            <span class="tag">å®æ—¶åˆ†æ</span>
            <span class="tag">è‡ªé€‚åº”å­¦ä¹ æœºåˆ¶</span>
          </div>
        </div>
        <div class="feature-video-container">
          <video src="/vedios/learning-plan.mp4" class="feature-video" autoplay muted loop playsinline></video>
        </div>
      </div>

      <!-- ç²¾ç¡®æœç´¢åŠŸèƒ½ -->
      <div class="feature-row">
        <div class="feature-text">
          <h3 class="drop-text">ç²¾ç¡®é¢˜ç›®æœç´¢</h3>
          <p class="feature-description">
            é‡‡ç”¨å…ˆè¿›çš„<strong style="font-size: 1.2em; color: orange;">åç«¯ç®—æ³•</strong>æ­å»ºå¤šç»´åº¦æ ‡ç­¾ä½“ç³» , è®©ä½ å¿«é€Ÿæ‰¾åˆ°æ‰€éœ€é¢˜ç›® . æ”¯æŒæŒ‰éš¾åº¦ã€ä¸»é¢˜ã€ç®—æ³•ç±»å‹ç­‰å¤šç§<strong style="font-size: 1.2em; color: orange;">æ–¹å¼ç­›é€‰</strong> <br>
            è¿ç”¨äºŒçº§æ ‡ç­¾æ·±åº¦åµŒå¥—æœç´¢å’Œæ™ºèƒ½æ ‡ç­¾<strong style="font-size: 1.2em; color: orange;">å…³é”®è¯åŒ¹é…ç®—æ³•</strong>, è®©é¢˜ç›®ç­›é€‰æ›´åŠ ç²¾å‡†ã€é«˜æ•ˆ <br>
            æ— è®ºæ˜¯å‡†å¤‡é¢è¯•è¿˜æ˜¯å‚åŠ ç«èµ›ï¼Œéƒ½èƒ½è½»æ¾æ‰¾åˆ°æœ€åŒ¹é…çš„ç»ƒä¹ é¢˜ <br>
          </p>
          <div class="feature-tags">
            <span class="tag">å¤šç»´ç­›é€‰</span>
            <span class="tag">æ ‡ç­¾ä½“ç³»</span>
            <span class="tag">ç²¾å‡†åŒ¹é…</span>
          </div>
        </div>
        <div class="feature-video-container">
          <video src="/vedios/sort.mp4" class="feature-video" autoplay muted loop playsinline></video>
        </div>
      </div>
    </div>

    <!-- é«˜çº§åŠŸèƒ½å±•ç¤º -->
    <div class="advanced-features">
      <h2 class="section-title">
        <span class="fade-text">AI , æ¯”ä½ æ›´æ‡‚ä½ </span>
      </h2>

      <div class="features-grid">
        <!-- ä¸ªäººä¸­å¿ƒåŠŸèƒ½ -->
        <div class="advanced-feature-card">
          <div class="card-video-wrapper">
            <video src="/vedios/personal-center.mp4" class="card-video" autoplay muted loop playsinline></video>
            <div class="card-overlay"></div>
          </div>
          <div class="card-content">
            <h3 class="wave-text">ä¸ªæ€§åŒ–å­¦ä¹ è·¯å¾„</h3>
            <p class="fade-text"><strong style="font-size: 1.2em; color: orange;">DeepSeek R1</strong>ä¸ºä½ ä¸“å±æœåŠ¡, ç”Ÿæˆ<strong style="font-size: 1.2em; color: orange;">é‡èº«å®šåˆ¶</strong>çš„å­¦ä¹ è·¯å¾„, æ™ºèƒ½æ¨èé€‚åˆä½ çš„é¢˜ç›®å’Œå­¦ä¹ èµ„æºã€‚</p>
            <router-link to="/personal-center" class="card-link">
              <span class="fliping-text">æ¢ç´¢æ›´å¤š</span>
              <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 4L10.59 5.41L16.17 11H4V13H16.17L10.59 18.59L12 20L20 12L12 4Z" fill="currentColor"/>
              </svg>
            </router-link>
          </div>
        </div>

        <!-- æ•°æ®é¢æ¿åŠŸèƒ½ -->
        <div class="advanced-feature-card">
          <div class="card-video-wrapper">
            <video src="/vedios/dashboard.mp4" class="card-video" autoplay muted loop playsinline></video>
            <div class="card-overlay"></div>
          </div>
          <div class="card-content">
            <h3 class="wave-text">æ•°æ®å¯è§†åŒ–åˆ†æ</h3>
            <p class="fade-text"><strong style="font-size: 1.2em; color: orange;">DeepSeekæ­é…Echarts</strong>, ç”Ÿæˆä¸“å±äºä½ çš„æ•°æ®å¯è§†åŒ–å›¾è¡¨</p>
            <router-link to="/dashboard" class="card-link">
              <span class="fliping-text">æ¢ç´¢æ›´å¤š</span>
              <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 4L10.59 5.41L16.17 11H4V13H16.17L10.59 18.59L12 20L20 12L12 4Z" fill="currentColor"/>
              </svg>
            </router-link>
          </div>
        </div>
      </div>
    </div>

    <!-- å¼•å¯¼å¼€å§‹ä½¿ç”¨éƒ¨åˆ† -->
    <div class="cta-section">
      <div class="cta-content">
        <h2 class="cta-title">
          <span class="fliping-text">ç«‹å³</span><span class="fliping-text">å¼€å§‹</span><span class="fliping-text">ä½ çš„</span><span class="fliping-text">ç¼–ç¨‹</span><span class="fliping-text">ä¹‹æ—…</span>
        </h2>
        <p class="cta-text drop-text">åŠ å…¥æˆ‘ä»¬ï¼Œä¸AIä¸€èµ·æå‡ç¼–ç¨‹èƒ½åŠ›ï¼Œå¼€å¯é«˜æ•ˆå­¦ä¹ æ–°ä½“éªŒ</p>
        <router-link to="/problems" class="cta-button">
          <span class="text-rewind" data-text="å¼€å§‹ä½¿ç”¨">å¼€å§‹ä½¿ç”¨</span>
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 4L10.59 5.41L16.17 11H4V13H16.17L10.59 18.59L12 20L20 12L12 4Z" fill="currentColor"/>
          </svg>
        </router-link>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue'
import NavBar from '@/components/NavBar.vue'
import { setGlobalToken } from '@/utils/request'

const codeLines = [
  '<span class="code-keyword">#include</span> <span class="code-string">&lt;iostream&gt;</span>',
  '<span class="code-keyword">using namespace</span> std;',
  '',
  '<span class="code-keyword">int</span> <span class="code-function">main</span>() {',
  '  ', // ç•™ç©ºï¼Œå°†é€šè¿‡æ‰“å­—æ•ˆæœå¡«å……
  '  <span class="code-comment">  // å¼€å§‹æˆ‘çš„AIç¼–ç¨‹ä¹‹æ—…</span>',
  '  <span class="code-keyword">return</span> <span class="code-number">0</span>;',
  '}'
]
const displayedLines = ref([])
const typingIndex = ref(0)
const isTyping = ref(false)
const typingText = ref('')
const fullTypingText = 'cout << "Hello, World!" << endl;'
const charIndex = ref(0)
const isLineComplete = ref(false)
const showCursor = ref(true)
let cursorInterval = null

// æ£€æŸ¥å¹¶ç¡®ä¿ä»¤ç‰Œè®¾ç½®æ­£ç¡®
const validateTokens = () => {
  console.log('éªŒè¯é¦–é¡µè®¿é—®ä»¤ç‰Œ')
  // å°è¯•ä»localStorageè·å–token
  const accessToken = localStorage.getItem('accessToken')
  if (accessToken) {
    console.log('æ‰¾åˆ°accessTokenï¼Œç¡®ä¿å…¨å±€è®¾ç½®')
    setGlobalToken(accessToken)
  } else {
    // å°è¯•ä»userInfoè·å–token
    const userInfoStr = localStorage.getItem('userInfo')
    if (userInfoStr) {
      try {
        const userInfo = JSON.parse(userInfoStr)
        if (userInfo.accessToken) {
          console.log('ä»userInfoä¸­æ‰¾åˆ°tokenï¼Œç¡®ä¿å…¨å±€è®¾ç½®')
          setGlobalToken(userInfo.accessToken)
        }
      } catch (e) {
        console.error('è§£æuserInfoå¤±è´¥:', e)
      }
    }
  }
}

// å¼€å§‹ä»£ç é”®å…¥åŠ¨ç”»
const startTypingAnimation = () => {
  isTyping.value = true
  typingIndex.value = 0
  displayedLines.value = []
  typeNextLine()
}

const typeNextLine = () => {
  if (typingIndex.value < codeLines.length) {
    // å¦‚æœæ˜¯ç¬¬5è¡Œï¼ˆæ‰“å°Hello Worldçš„é‚£è¡Œï¼‰ï¼Œé€å­—ç¬¦æ˜¾ç¤º
    if (typingIndex.value === 4) {
      displayedLines.value.push('  ') // æ·»åŠ åŸºç¡€ç¼©è¿›
      charIndex.value = 0
      typingText.value = ''
      isLineComplete.value = false
      typeNextChar()
    } else if (typingIndex.value === codeLines.length - 1) {
      // å¦‚æœæ˜¯æœ€åä¸€è¡Œï¼Œæ·»åŠ å…‰æ ‡
      displayedLines.value.push(codeLines[typingIndex.value])

      // è®¾ç½®é—´éš”æ›´æ–°å…‰æ ‡çŠ¶æ€
      const updateLastLineCursor = () => {
        if (displayedLines.value.length >= codeLines.length) {
          // ç§»é™¤å¯èƒ½å­˜åœ¨çš„æ—§å…‰æ ‡
          let lastLine = displayedLines.value[displayedLines.value.length - 1]
          lastLine = lastLine.replace(/<span class="code-cursor"><\/span>/g, '')

          // æ·»åŠ æ–°å…‰æ ‡
          displayedLines.value[displayedLines.value.length - 1] =
            lastLine + (showCursor.value ? '<span class="code-cursor"></span>' : '')
        }
      }

      // ç«‹å³æ‰§è¡Œä¸€æ¬¡
      updateLastLineCursor()

      // è®¾ç½®é—´éš”æ›´æ–°
      cursorInterval = setInterval(updateLastLineCursor, 500)

      typingIndex.value++
      setTimeout(() => {
        typeNextLine()
      }, 300)
    } else {
      // å…¶ä»–è¡Œç›´æ¥æ˜¾ç¤ºæ•´è¡Œ
      displayedLines.value.push(codeLines[typingIndex.value])
      typingIndex.value++
      setTimeout(() => {
        typeNextLine()
      }, 300) // æ¯è¡Œä»£ç çš„é”®å…¥æ—¶é—´
    }
  } else {
    isTyping.value = false
  }
}

const typeNextChar = () => {
  if (charIndex.value < fullTypingText.length) {
    charIndex.value++
    typingText.value = fullTypingText.substring(0, charIndex.value)

    // æ„å»ºHTMLå­—ç¬¦ä¸²
    const code = typingText.value

    // åˆ›å»ºDOMå…ƒç´ æ¥è§£æHTML
    const tempEl = document.createElement('div')
    tempEl.textContent = code

    // è·å–çº¯æ–‡æœ¬å†…å®¹
    const plainText = tempEl.textContent

    // æ„å»ºé«˜äº®ç‰ˆæœ¬ï¼Œå…ˆè½¬ä¹‰HTMLæ ‡ç­¾
    let highlightedText = plainText
      .replace(/&/g, '&amp;')
      .replace(/</g, '&lt;')
      .replace(/>/g, '&gt;')

    // æŒ‰ç‰¹å®šé¡ºåºåº”ç”¨é«˜äº®æ›¿æ¢
    // 1. å­—ç¬¦ä¸² (éœ€è¦ä¼˜å…ˆå¤„ç†å¼•å·å†…çš„å†…å®¹)
    highlightedText = highlightedText.replace(/"([^"]*)"/g, '<span class="code-string">"$1"</span>')

    // 2. å…³é”®å­—
    const keywords = ['cout', 'endl']
    keywords.forEach(keyword => {
      const regex = new RegExp(`\\b${keyword}\\b`, 'g')
      highlightedText = highlightedText.replace(regex, `<span class="code-keyword">${keyword}</span>`)
    })

    // 3. è¿ç®—ç¬¦å’Œå…¶ä»–å…ƒç´ 
    highlightedText = highlightedText.replace(/&lt;&lt;/g, '&lt;&lt;')

    // æ›´æ–°æ˜¾ç¤ºï¼Œç¡®ä¿HTMLæ ‡ç­¾è¢«æ­£ç¡®è§£æ
    setTimeout(() => {
      // æ‰‹åŠ¨æ’å…¥å†…å®¹åˆ°DOM
      const codeLineElement = document.querySelector('.code-content .code-line:nth-child(5)')
      if (codeLineElement) {
        codeLineElement.innerHTML = '  ' + highlightedText + (showCursor.value ? '<span class="code-cursor"></span>' : '')
        // å°†å†…å®¹ä¹ŸåŒæ­¥åˆ°dataä¸­
        displayedLines.value[4] = '  ' + highlightedText
      }
    })

    setTimeout(() => {
      typeNextChar()
    }, 100)
  } else {
    isLineComplete.value = true
    typingIndex.value++

    // å®Œæˆåç¡®ä¿å…‰æ ‡è¢«ç§»é™¤
    setTimeout(() => {
      const codeLineElement = document.querySelector('.code-content .code-line:nth-child(5)')
      if (codeLineElement) {
        codeLineElement.innerHTML = '  ' + codeLineElement.innerHTML.replace(/<span class="code-cursor"><\/span>/g, '')
      }
    })

    setTimeout(() => {
      typeNextLine()
    }, 300)
  }
}

onMounted(() => {
  // ä¸ºæ³¢æµªæ–‡å­—æ·»åŠ å»¶è¿ŸåŠ¨ç”»
  document.querySelectorAll('.wave-text').forEach((text, index) => {
    text.style.animationDelay = `${index * 0.35}s`
  })

  // ä¸ºç¿»è½¬æ–‡å­—æ·»åŠ å»¶è¿ŸåŠ¨ç”»
  document.querySelectorAll('.fliping-text').forEach((text, index) => {
    text.style.animationDelay = `${index * 0.3}s`
  })
  // ä¸ºæ·¡å…¥æ·¡å‡ºæ–‡å­—æ·»åŠ å»¶è¿ŸåŠ¨ç”»
  document.querySelectorAll('.fade-text').forEach((text, index) => {
    text.style.animationDelay = `${index * 0.3}s`
  })

  // ä¸ºä¸‹è½æ–‡å­—æ·»åŠ å»¶è¿ŸåŠ¨ç”»
  document.querySelectorAll('.drop-text').forEach((text, index) => {
    text.style.animationDelay = `${index * 0.2}s`
  })

  // å¯åŠ¨å…‰æ ‡é—ªçƒæ•ˆæœ
  setInterval(() => {
    showCursor.value = !showCursor.value
  }, 500)

  // éªŒè¯tokenå¹¶ç¡®ä¿æ­£ç¡®è®¾ç½®
  validateTokens()

  // å¼€å§‹ä»£ç é”®å…¥åŠ¨ç”»
  startTypingAnimation()

  // ç»„ä»¶å¸è½½æ—¶æ¸…é™¤å®šæ—¶å™¨
  return () => {
    if (cursorInterval) {
      clearInterval(cursorInterval)
    }
  }
})
</script>

<style scoped>
.home {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background-color: #0d1117;
  color: white;
  overflow-x: hidden;
}

/* è‹±é›„åŒºåŸŸæ ·å¼ */
.hero-section {
  display: flex;
  min-height: 90vh;
  padding: 0 5%;
  align-items: center;
  position: relative;
  justify-content: center;
  text-align: center;
}

.hero-content {
  flex: 1;
  max-width: 600px;
  z-index: 2;
}

.hero-title {
  font-size: 4.5rem;
  font-weight: 800;
  margin-bottom: 1.5rem;
  line-height: 1.2;
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  justify-content: center;
}

.hero-subtitle {
  font-size: 1.5rem;
  color: rgba(255, 255, 255, 0.8);
  margin-bottom: 3rem;
}

.hero-buttons {
  display: flex;
  gap: 1rem;
  justify-content: center;
}

.hero-button {
  padding: 0.75rem 2rem;
  border-radius: 30px;
  font-weight: 600;
  font-size: 1rem;
  cursor: pointer;
  transition: all 0.3s ease;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.hero-button.primary {
  background: linear-gradient(135deg, #6b73ff, #4ecdc4);
  color: white;
  border: none;
}

.hero-button.secondary {
  background: transparent;
  border: 1px solid rgba(255, 255, 255, 0.4);
  color: white;
}

.hero-button:hover {
  transform: translateY(-4px);
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
}

.code-animation {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  max-width: 600px;
}

.code-window {
  width: 100%;
  height: 400px;
  background-color: #1e1e2e;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
  margin-left: 40px;
}

.code-header {
  background-color: #2d2d3d;
  height: 40px;
  display: flex;
  align-items: center;
  padding: 0 15px;
  position: relative;
}

.window-controls {
  display: flex;
  gap: 8px;
}

.control {
  width: 12px;
  height: 12px;
  border-radius: 50%;
}

.control.red {
  background-color: #ff5f57;
}

.control.yellow {
  background-color: #febc2e;
}

.control.green {
  background-color: #28c840;
}

.window-title {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  color: #a6accd;
  font-size: 14px;
}

.code-content {
  padding: 20px;
  font-family: 'Fira Code', monospace;
  font-size: 14px;
  line-height: 1.6;
  height: calc(100% - 40px);
  overflow-y: auto;
  text-align: left;
}

.code-line {
  margin-bottom: 8px;
  white-space: pre;
  animation: fadeIn 0.3s ease-in-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.code-keyword {
  color: #ff79c6 !important;
}

.code-string {
  color: #f1fa8c !important;
}

.code-function {
  color: #50fa7b !important;
}

.code-number {
  color: #bd93f9 !important;
}

.code-comment {
  color: #6272a4 !important;
}

/* æ·»åŠ æ‰“å­—æ•ˆæœç›¸å…³æ ·å¼ */
.code-cursor {
  display: inline-block;
  width: 2px;
  height: 18px;
  background-color: #fff;
  margin-left: 2px;
  vertical-align: middle;
  animation: cursor-blink 0.8s step-end infinite;
  position: relative;
  top: 1px;
}

@keyframes cursor-blink {
  0%, 100% {
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
}

.code-typing-container {
  display: inline-block;
}

.code-typing-text {
  display: inline-block;
}

/* é‡æ–°è®¾è®¡çš„åŠŸèƒ½å±•ç¤ºéƒ¨åˆ† */
.section-title {
  font-size: 3rem;
  font-weight: 700;
  margin-bottom: 4rem;
  text-align: center;
  display: flex;
  justify-content: center;
  gap: 1rem;
  flex-wrap: wrap;
}

/* æ ¸å¿ƒåŠŸèƒ½å±•ç¤ºåŒº */
.feature-section {
  padding: 120px 5%;
  background: linear-gradient(180deg, #0d1117, #151a24);
}

.feature-row {
  display: flex;
  align-items: center;
  margin-bottom: 120px;
  gap: 60px;
}

.feature-row.reverse {
  flex-direction: row-reverse;
}

.feature-text {
  flex: 1;
  max-width: 50%;
}

.feature-text h3 {
  font-size: 2.5rem;
  font-weight: 700;
  margin-bottom: 1.5rem;
  background: linear-gradient(90deg, #fff, #a6accd);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

.feature-description {
  font-size: 1.1rem;
  line-height: 1.8;
  color: rgba(255, 255, 255, 0.85);
  margin-bottom: 2rem;
}

.feature-tags {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

.tag {
  padding: 6px 16px;
  background: rgba(107, 115, 255, 0.2);
  border: 1px solid rgba(107, 115, 255, 0.4);
  border-radius: 30px;
  font-size: 0.85rem;
  color: #8c92ff;
}

.feature-video-container {
  flex: 1;
  position: relative;
  height: 450px;
  overflow: hidden;
  border-radius: 16px;
  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
}

.feature-video {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.5s ease;
}

.feature-video-container:hover .feature-video {
  transform: scale(1.05);
}

/* åˆ é™¤è§†é¢‘è“è‰²æ»¤é•œ */
.video-gradient-overlay {
  display: none;
}

/* é«˜çº§åŠŸèƒ½å±•ç¤ºåŒº */
.advanced-features {
  padding: 120px 5%;
  background-color: #151a24;
}

.features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
  gap: 40px;
}

.advanced-feature-card {
  position: relative;
  border-radius: 16px;
  overflow: hidden;
  background-color: #1e1e2e;
  height: 500px;
  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
  transition: transform 0.4s ease, box-shadow 0.4s ease;
}

.advanced-feature-card:hover {
  transform: translateY(-10px);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
}

.card-video-wrapper {
  height: 60%;
  position: relative;
  overflow: hidden;
}

.card-video {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.5s ease;
}

.advanced-feature-card:hover .card-video {
  transform: scale(1.1);
}

.card-overlay {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 50%;
  background: linear-gradient(to top, #1e1e2e, transparent);
  pointer-events: none;
}

.card-content {
  padding: 30px;
  height: 40%;
  display: flex;
  flex-direction: column;
}

.card-content h3 {
  font-size: 1.8rem;
  font-weight: 700;
  margin-bottom: 1rem;
  background: linear-gradient(90deg, #fff, #a6accd);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

.card-content p {
  font-size: 1rem;
  line-height: 1.6;
  color: rgba(255, 255, 255, 0.7);
  margin-bottom: 1.5rem;
}

.card-link {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  font-weight: 600;
  color: #6b73ff;
  text-decoration: none;
  margin-top: auto;
  transition: gap 0.3s ease;
}

.card-link svg {
  width: 18px;
  height: 18px;
  transition: transform 0.3s ease;
}

.card-link:hover {
  gap: 15px;
}

.card-link:hover svg {
  transform: translateX(5px);
}

/* å¼•å¯¼å¼€å§‹ä½¿ç”¨éƒ¨åˆ†æ ·å¼ */
.cta-section {
  padding: 150px 5%;
  text-align: center;
  background: linear-gradient(135deg, #0d1117, #151a24);
}

.cta-content {
  max-width: 800px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.cta-title {
  font-size: 3.5rem;
  font-weight: 700;
  margin-bottom: 1.5rem;
  display: flex;
  justify-content: center;
  gap: 1rem;
  flex-wrap: wrap;
}

.cta-text {
  font-size: 1.25rem;
  color: rgba(255, 255, 255, 0.8);
  margin-bottom: 3rem;
}

.cta-button {
  padding: 1.25rem 3rem;
  background: linear-gradient(135deg, #6b73ff, #4ecdc4);
  border: none;
  border-radius: 30px;
  color: white;
  font-size: 1.2rem;
  font-weight: 600;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 12px;
  transition: all 0.3s ease;
  text-decoration: none;
  margin-top: 2rem;
}

.cta-button svg {
  width: 20px;
  height: 20px;
  transition: transform 0.3s ease;
}

.cta-button:hover {
  transform: translateY(-5px);
  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
}

.cta-button:hover svg {
  transform: translateX(5px);
}

/* æ·»åŠ Text Rewindæ•ˆæœ */
.text-rewind {
  position: relative;
  display: inline-block;
}

.text-rewind::before {
  content: attr(data-text);
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  color: transparent;
  overflow: hidden;
  white-space: nowrap;
  animation: textRewind 4s linear infinite;
  background: linear-gradient(90deg, #e0f7fa, #ffffff, #e6fffd); /* æ›´æŸ”å’Œçš„æ·¡è“è‰²æ¸å˜ */
  -webkit-background-clip: text;
  background-clip: text;
}

@keyframes textRewind {
  0% {
    width: 0;
  }
  50% {
    width: 100%;
  }
  51% {
    width: 100%;
  }
  100% {
    width: 0;
  }
}

/* æ–‡å­—åŠ¨ç”»æ•ˆæœ */
/* æ³¢æµªæ–‡å­—æ­ç¤ºæ•ˆæœ */
.wave-text {
  display: inline-block;
  position: relative;
  overflow: hidden;
  animation: waveReveal 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  transform: translateY(100%);
  opacity: 0;
}

@keyframes waveReveal {
  0% {
    transform: translateY(100%);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

/* å¹³æ»‘ç¿»è½¬æ–‡å­—æ•ˆæœ */
.fliping-text {
  display: inline-block;
  opacity: 0;
  transform: perspective(500px) rotateX(90deg);
  transform-origin: 50% 0;
  animation: flipText 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes flipText {
  from {
    opacity: 0;
    transform: perspective(500px) rotateX(90deg);
  }
  to {
    opacity: 1;
    transform: perspective(500px) rotateX(0deg);
  }
}

/* æ·¡å…¥æ·¡å‡ºæ–‡å­—æ•ˆæœ */
.fade-text {
  display: inline-block;
  opacity: 0;
  animation: fadeText 1.5s ease forwards;
}

@keyframes fadeText {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

/* æ–‡å­—ä¸‹è½æ•ˆæœ */
.drop-text {
  display: inline-block;
  opacity: 0;
  transform: translateY(-50px);
  animation: dropText 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes dropText {
  from {
    opacity: 0;
    transform: translateY(-50px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 1200px) {
  .hero-section {
    flex-direction: column;
    text-align: center;
    padding-top: 50px;
    padding-bottom: 50px;
  }

  .hero-content {
    margin-bottom: 50px;
    max-width: 100%;
  }

  .hero-title {
    justify-content: center;
  }

  .hero-buttons {
    justify-content: center;
  }

  .code-animation {
    max-width: 100%;
  }

  .feature-row {
    flex-direction: column;
    gap: 40px;
  }

  .feature-row.reverse {
    flex-direction: column;
  }

  .feature-text {
    max-width: 100%;
    text-align: center;
  }
}

@media (max-width: 992px) {
  .features-grid {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 768px) {
  .hero-title {
    font-size: 3rem;
  }

  .section-title {
    font-size: 2.5rem;
  }

  .feature-text h3 {
    font-size: 2rem;
  }

  .cta-title {
    font-size: 2.5rem;
  }

  .feature-video-container {
    height: 350px;
  }
}

@media (max-width: 480px) {
  .hero-buttons {
    flex-direction: column;
    width: 100%;
  }

  .hero-button {
    width: 100%;
  }

  .section-title {
    font-size: 2rem;
  }

  .cta-button {
    width: 100%;
  }

  .feature-video-container {
    height: 250px;
  }
}
</style>
