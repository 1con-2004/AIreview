# AI智能题目评审系统详细介绍文档

## 1. 项目概述

AI智能题目评审系统是一个面向高校学生的编程学习平台，类似于LeetCode的刷题平台，同时集成了AI代码评审和个性化学习路径推荐功能。系统旨在帮助学生提高编程能力，并为教师提供学生学习情况的统计和分析。

### 1.1 核心功能

- **编程题目练习**：提供类似LeetCode的题目练习平台
- **AI代码评审**：使用AI分析学生代码，提供改进建议
- **个性化学习路径**：基于学生能力水平和学习情况推荐学习路径
- **在线课堂**：提供在线课堂功能，支持师生互动
- **学习数据统计**：统计学生学习情况，生成可视化报表
- **社区交流**：用户可以在社区中分享心得和讨论问题

## 2. 技术架构

### 2.1 前端技术栈

- **框架**：Vue 3
- **路由**：Vue Router
- **状态管理**：Vuex
- **UI组件库**：Element Plus
- **HTTP客户端**：Axios
- **构建工具**：Webpack (通过Vue CLI)

### 2.2 后端技术栈

- **运行环境**：Node.js
- **Web框架**：Express
- **数据库**：MySQL
- **AI接口**：智谱AI
- **认证**：JWT (JSON Web Token)

### 2.3 系统架构图

```
+----------------+      +-----------------+      +---------------+
|                |      |                 |      |               |
|  前端(Vue3)     +----->+  后端(Node.js)   +----->+  数据库(MySQL) |
|                |      |                 |      |               |
+----------------+      +-----------------+      +---------------+
                                |
                                v
                        +---------------+
                        |               |
                        |   AI服务接口   |
                        |   (智谱AI)     |
                        |               |
                        +---------------+
```

## 3. 项目结构详解

### 3.1 前端项目结构

```
frontend/
├── public/              # 静态资源
├── src/                 # 源代码
│   ├── api/             # API接口
│   ├── assets/          # 资源文件（图片、样式等）
│   ├── components/      # 通用组件
│   ├── router/          # 路由配置
│   ├── store/           # Vuex状态管理
│   ├── utils/           # 工具函数
│   ├── views/           # 页面组件
│   │   ├── admin/       # 管理员页面
│   │   ├── ai/          # AI相关功能页面
│   │   ├── classroom/   # 在线课堂页面
│   │   ├── community/   # 社区页面
│   │   ├── home/        # 主页
│   │   ├── learning-plans/ # 学习计划页面
│   │   ├── login/       # 登录/注册页面
│   │   ├── problems/    # 题目列表和详情页
│   │   └── user/        # 用户相关页面
│   ├── App.vue          # 根组件
│   └── main.js          # 入口文件
├── .eslintrc.js         # ESLint配置
├── babel.config.js      # Babel配置
├── package.json         # 依赖配置
└── vue.config.js        # Vue配置
```

### 3.2 后端项目结构

```
backend/
├── public/              # 静态资源
├── src/                 # 源代码
│   ├── api/             # API路由
│   │   ├── admin/       # 管理员API
│   │   ├── ai/          # AI功能API
│   │   ├── classroom/   # 课堂API
│   │   ├── community/   # 社区API
│   │   ├── learning-plans/ # 学习计划API
│   │   ├── login/       # 登录/认证API
│   │   ├── problems/    # 题目API
│   │   └── user/        # 用户API
│   ├── config/          # 配置文件
│   ├── database/        # 数据库相关
│   ├── middleware/      # 中间件
│   ├── routes/          # 辅助路由
│   ├── services/        # 业务逻辑
│   ├── utils/           # 工具函数
│   ├── app.js           # 应用主文件
│   └── db.js            # 数据库连接
├── temp/                # 临时文件
├── uploads/             # 上传文件存储
├── .env.example         # 环境变量示例
└── package.json         # 依赖配置
```

### 3.3 数据库结构

系统使用MySQL数据库，主要表结构如下：

- **users**: 用户信息表
- **user_profile**: 用户个人资料
- **problems**: 题目信息
- **problem_test_cases**: 题目测试用例
- **solution_code**: 用户提交的代码
- **solution_languages**: 支持的编程语言
- **user_problem_status**: 用户做题状态
- **classrooms**: 在线课堂信息
- **classroom_messages**: 课堂消息
- **classroom_files**: 课堂文件
- **classroom_discussions**: 课堂讨论
- **classes**: 班级信息
- **student_info**: 学生信息

## 4. 核心功能模块详解

### 4.1 用户认证系统

- **登录方式**：支持账号密码登录和手机验证码登录
- **用户角色**：学生、教师和管理员
- **权限控制**：基于JWT的身份验证和授权
- **密码重置**：支持通过邮箱或手机重置密码

相关文件：
- 前端: `frontend/src/views/login/`
- 后端: `backend/src/api/login/`

### 4.2 题目系统

- **题目浏览**：支持按难度、类型、标签筛选题目
- **题目详情**：展示题目描述、示例、提交统计等
- **代码编辑器**：集成代码编辑器，支持多种编程语言
- **代码提交**：提交代码进行测试和评分
- **提交历史**：查看历史提交记录和结果

相关文件：
- 前端: `frontend/src/views/problems/`
- 后端: `backend/src/api/problems/`

### 4.3 AI代码评审

- **代码分析**：使用智谱AI分析用户提交的代码
- **问题识别**：识别代码中的错误和优化空间
- **改进建议**：提供具体的改进建议和解释
- **友好界面**：以对话形式呈现AI反馈

相关文件：
- 前端: `frontend/src/views/ai/`
- 后端: `backend/src/api/ai/`

### 4.4 学习路径推荐

- **能力评估**：基于用户做题情况评估能力水平
- **个性化推荐**：根据用户水平推荐适合的学习路径
- **进度跟踪**：跟踪学习路径完成情况
- **自适应调整**：根据学习进度调整推荐内容

相关文件：
- 前端: `frontend/src/views/learning-plans/`
- 后端: `backend/src/api/learning-plans/`

### 4.5 在线课堂

- **课堂创建**：教师可创建在线课堂
- **直播互动**：支持实时视频直播和互动
- **资料共享**：上传和分享课堂资料
- **讨论功能**：课堂讨论和问答
- **考勤管理**：学生签到和考勤记录

相关文件：
- 前端: `frontend/src/views/classroom/`
- 后端: `backend/src/api/classroom/`

### 4.6 社区系统

- **帖子发布**：用户可发布学习心得和问题
- **评论互动**：支持帖子评论和点赞
- **内容分类**：按主题分类帖子内容
- **搜索功能**：搜索社区内容

相关文件：
- 前端: `frontend/src/views/community/`
- 后端: `backend/src/api/community/`

### 4.7 管理员后台

- **用户管理**：管理用户账号和权限
- **题目管理**：添加、编辑、删除题目
- **课堂管理**：管理在线课堂
- **数据统计**：学生学习情况统计和分析
- **系统设置**：配置系统参数

相关文件：
- 前端: `frontend/src/views/admin/`
- 后端: `backend/src/api/admin/`

## 5. 系统流程说明

### 5.1 用户注册登录流程

1. 用户访问登录页面
2. 选择注册新账号或登录现有账号
3. 注册时提供必要信息（用户名、密码、邮箱等）
4. 登录成功后获取JWT令牌
5. 使用令牌进行后续API请求认证

### 5.2 题目练习流程

1. 用户浏览题目列表
2. 选择题目进入详情页
3. 阅读题目描述和要求
4. 在代码编辑器中编写解决方案
5. 提交代码
6. 系统运行测试用例并返回结果
7. 用户可选择使用AI评审功能获取反馈

### 5.3 AI代码评审流程

1. 用户提交代码后点击"AI评审"按钮
2. 系统将代码和题目信息发送给AI服务
3. AI分析代码并生成反馈
4. 系统接收AI反馈并展示给用户
5. 用户根据反馈优化代码

### 5.4 学习路径生成流程

1. 系统分析用户的做题情况和能力水平
2. 根据分析结果生成个性化学习路径
3. 用户查看和开始学习路径
4. 系统跟踪学习进度
5. 根据进度调整后续推荐内容

## 6. 安装和部署指南

### 6.1 环境要求

- Node.js >= 14.x
- Yarn >= 1.22.x
- MySQL >= 8.0

### 6.2 前端部署

```bash
# 克隆项目
git clone [项目地址]
cd AIreview

# 安装依赖
cd frontend
yarn install

# 开发模式运行
yarn serve

# 生产环境构建
yarn build
```

### 6.3 后端部署

```bash
# 进入后端目录
cd backend

# 安装依赖
yarn install

# 配置环境变量
cp .env.example .env
# 编辑.env文件，填写数据库信息和其他配置

# 初始化数据库
# Windows系统：
set PLATFORM=win
yarn init-db

# Mac/Linux系统：
export PLATFORM=unix
yarn init-db

# 开发模式运行
yarn dev

# 生产环境运行
yarn start
```

### 6.4 数据库初始化

1. 创建MySQL数据库
2. 导入`数据库文件/AIreview.sql`文件

## 7. 常见问题与解决方案

### 7.1 安装依赖问题

问题：依赖安装失败
解决方案：
```bash
# 清除yarn缓存
yarn cache clean
# 删除现有的node_modules和yarn.lock
rm -rf node_modules yarn.lock
# 重新安装依赖
yarn install
```

### 7.2 数据库连接问题

问题：无法连接到数据库
解决方案：
- 确保MySQL服务已启动
- 检查.env文件中的数据库配置是否正确
- 确保数据库用户有正确的权限

### 7.3 端口占用问题

问题：端口被占用
解决方案：
- 修改.env文件中的PORT值
- 关闭占用端口的程序：
  ```bash
  # 查找占用端口的进程
  lsof -i :3000
  # 关闭进程
  kill <进程ID>
  ```

## 8. 贡献与参与

如果您希望参与项目开发，请遵循以下流程：

1. Fork项目仓库
2. 创建您的特性分支 (`git checkout -b feature/amazing-feature`)
3. 提交您的更改 (`git commit -m 'Add some amazing feature'`)
4. 推送到分支 (`git push origin feature/amazing-feature`)
5. 打开Pull Request

## 9. 联系与支持

如有问题或需要支持，请通过以下方式联系项目维护者：

- 提交Issue
- 发送邮件至：[项目维护者邮箱]

## 10. 许可证

本项目采用MIT许可证。详情请参阅项目根目录下的LICENSE文件。 