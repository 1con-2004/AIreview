const bcrypt = require("bcrypt"); async function testBcrypt() { const password = "testpassword"; try { console.log("开始生成哈希..."); const hash = await bcrypt.hash(password, 10); console.log("生成的哈希:", hash); console.log("开始验证密码..."); const match1 = await bcrypt.compare(password, hash); console.log("正确密码验证结果:", match1); const match2 = await bcrypt.compare("wrongpassword", hash); console.log("错误密码验证结果:", match2); console.log("Node.js 版本:", process.version); console.log("bcrypt 版本:", require("bcrypt/package.json").version); } catch (error) { console.error("bcrypt 测试错误:", error); } } testBcrypt();
